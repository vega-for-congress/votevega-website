<!-- Footer Signup Section -->
<div class="row footer-signup justify-content-center g-0">
    <div class="col-md-6" style="background: linear-gradient(135deg, #dc3545, #c82333); color: white;">
        <div class="p-5">
            <div class="text-center mb-4">
                <i class="fas fa-hand-holding-heart mb-3" style="font-size: 3rem; color: rgba(255,255,255,0.9);"></i>
                <h3 class="text-uppercase fw-bold mb-3">{{ i18n "footer_support_title" }}</h3>
                <p class="mb-4" style="font-size: 1.1rem; line-height: 1.6;">
                    {{ i18n "footer_support_description" }}
                </p>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="d-grid">
                        <a href="{{ .Site.Params.donateUrl }}" class="btn btn-light btn-lg fw-bold text-uppercase" 
                           style="border-radius: 50px; padding: 15px 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s ease;" 
                           onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(0,0,0,0.3)';" 
                           onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.2)';">{{ i18n "footer_donate_button" }}</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6" style="background: linear-gradient(135deg, #0d6efd, #0b5ed7); color: white;">
        <div class="p-5">
            <div id="mc_embed_signup">
                <div class="text-center mb-4">
                    <i class="fas fa-users mb-3" style="font-size: 3rem; color: rgba(255,255,255,0.9);"></i>
                    <h3 class="text-uppercase fw-bold mb-3">{{ i18n "footer_join_title" }}</h3>
                    <p class="mb-4" style="font-size: 1.1rem; line-height: 1.6;">
                        {{ i18n "footer_join_description" }}
                    </p>
                </div>
                <div class="row justify-content-center">
                    <div class="col-lg-10">
                        <form id="email-signup" method="post">
                            <div class="input-group mb-3" style="border-radius: 50px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                                <input type="email" name="email" id="footer-email" class="form-control border-0" 
                                       placeholder="{{ i18n "footer_email_placeholder" }}"
                                       aria-label="Email Address" required 
                                       style="padding: 15px 20px; font-size: 1rem; background: white;">
                                <button type="submit" class="btn btn-light fw-bold text-uppercase px-4" 
                                        style="background: white; color: #0d6efd; border: none; padding: 15px 25px; transition: all 0.3s ease;"
                                        onmouseover="this.style.background='#f8f9fa';" 
                                        onmouseout="this.style.background='white';">{{ i18n "footer_join_button" }}</button>
                            </div>
                        </form>
                        
                        <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            const footerForm = document.getElementById('email-signup');
                            const footerEmailInput = document.getElementById('footer-email');
                            
                            footerForm.addEventListener('submit', function(e) {
                                e.preventDefault();
                                
                                // Get the email value from the footer form
                                const emailValue = footerEmailInput.value.trim();
                                
                                if (emailValue && emailValue.includes('@')) {
                                    // Check if we're on the homepage (English or Spanish)
                                    const isHomepage = window.location.pathname === '/' || window.location.pathname === '' || window.location.pathname === '/es/' || window.location.pathname === '/es';
                                    
                                    if (isHomepage) {
                                        // On homepage - scroll to volunteer section
                                        const volunteerSection = document.getElementById('volunteer');
                                        if (volunteerSection) {
                                            // Calculate position with offset for navbar (approximately 80px)
                                            const sectionTop = volunteerSection.offsetTop - 80;
                                            window.scrollTo({
                                                top: sectionTop,
                                                behavior: 'smooth'
                                            });
                                            
                                            // Wait for scroll animation to complete, then populate the email field
                                            setTimeout(function() {
                                                const mainEmailField = document.getElementById('email');
                                                if (mainEmailField) {
                                                    mainEmailField.value = emailValue;
                                                    mainEmailField.focus();
                                                    
                                                    // Add a subtle highlight effect
                                                    mainEmailField.style.boxShadow = '0 0 10px rgba(220, 53, 69, 0.3)';
                                                    setTimeout(function() {
                                                        mainEmailField.style.boxShadow = '';
                                                    }, 2000);
                                                }
                                            }, 800);
                                        }
                                    } else {
                                        // On other pages - redirect to homepage with email parameter (maintain language)
                                        const homeUrl = new URL(window.location.origin);
                                        // Check if we're on Spanish pages and redirect to Spanish homepage
                                        if (window.location.pathname.startsWith('/es')) {
                                            homeUrl.pathname = '/es/';
                                        } else {
                                            homeUrl.pathname = '/';
                                        }
                                        homeUrl.searchParams.set('email', emailValue);
                                        homeUrl.hash = 'volunteer';
                                        window.location.href = homeUrl.toString();
                                    }
                                }
                            });
                        });
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
